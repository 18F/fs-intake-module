<section class="usa-section">
  <div class="usa-grid">
    <nav class="breadcrumb">
      <ol>
        <li>Christmas trees permits report</li>
      </ol>
    </nav>

    <app-api-error *ngIf="apiErrors" [errors]="apiErrors"></app-api-error>

    <h1 id="skip-nav-target" tabindex="-1">Create a Christmas tree permits report</h1>

    <form [formGroup]="form" class="usa-form-large" novalidate (ngSubmit)="getReport()">
      <legend class="fs-datetime-legend">To generate a report, please select a forest and enter a start and end date.</legend>

      <div class="usa-form-group">
        <label id="forest-label" for="forest-select" class="usa-input">Forest</label>
        <select id="forest-select" formControlName="forestId" aria-required="true"
          [attr.aria-labelledby]="afs.labelledBy(form.controls.forestId, 'forest-label', 'forest-error')"
          [attr.aria-invalid]="afs.hasError(form.controls.forestId)">
          <option value="" selected="selected"></option>
          <option *ngFor="let forest of forests" [value]="forest.id">{{ forest.forestName }} </option>
        </select>
        <app-error-message fieldId="forest-error" name="Forest" [control]="form.controls.forestId"></app-error-message>

        <label id="start-date-label" for="start-date">Start date (format: mm/dd/yyyy)</label>
        <my-date-picker id="start-date" class="usa-input-inline" name="startDate" [options]="myDatePickerOptions" formControlName="startDate"
        [attr.aria-labelledby]="afs.labelledBy(form.controls.startDate, 'start-date-label', 'start-date-error')"
        [attr.aria-invalid]="afs.hasError(form.controls.startDate)"></my-date-picker>
        <app-error-message fieldId="start-date-error" name="Start date" [control]="form.controls.startDate"></app-error-message>

        <label id="end-date-label" for="end-date">End date (format: mm/dd/yyyy)</label>
        <my-date-picker id="end-date" class="usa-input-inline" name="endDate" [options]="myDatePickerOptions" formControlName="endDate"
        [attr.aria-labelledby]="afs.labelledBy(form.controls.endDate, 'end-date-label', 'end-date-error')"
        [attr.aria-invalid]="afs.hasError(form.controls.endDate)"></my-date-picker>

        <app-error-message fieldId="end-date-error" name="End date" [control]="form.controls.endDate"></app-error-message>
      </div>

      <button id="get-report" class="usa-button-primary-alt usa-button-big" type="submit">Get report</button>

    </form>

    <app-report-results *ngIf="result" [result]="result"></app-report-results>

  </div>
</section>
