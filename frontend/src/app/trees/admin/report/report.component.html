<section class="usa-section">
  <div class="usa-grid">
    <nav class="breadcrumb">
      <ol>
        <li>Christmas trees permits report</li>
      </ol>
    </nav>

    <app-api-error *ngIf="apiErrors" [errors]="apiErrors"></app-api-error>

    <h1 id="skip-nav-target" tabindex="-1">Create a Christmas tree permits report</h1>

    <form [formGroup]="form" class="usa-form-large" novalidate (ngSubmit)="getReport()">
      <legend class="fs-datetime-legend">To generate a report, please select a forest and enter a start and end date.</legend>

      <div class="usa-form-group">
        <label id="forest-label" for="forest-select" class="usa-input">Forest</label>
        <select id="forest-select" formControlName="forestId" aria-required="true"
          [attr.aria-labelledby]="afs.labelledBy(form.controls.forestId, 'forest-label', 'forest-error')"
          [attr.aria-invalid]="afs.hasError(form.controls.forestId)">
          <option value="" selected="selected"></option>
          <option *ngFor="let forest of forests" [value]="forest.id">{{ forest.forestName }}</option>
        </select>
        <app-error-message fieldId="forest-error" name="Forest" [control]="form.controls.forestId"></app-error-message>

        <app-date-time-range [parentForm]="form" dateOnly="true" includePastDates="true" (updateDateStatus)="updateDateStatus($event)"></app-date-time-range>

      </div>

      <button id="get-report" class="usa-button-primary-alt usa-button-big" type="submit">Get report</button>

    </form>

    <app-report-results *ngIf="result" [result]="result"></app-report-results>

  </div>
</section>
